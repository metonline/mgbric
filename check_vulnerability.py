#!/usr/bin/env python3
"""Check if vulnerability data is missing in hands"""

import json

data = json.load(open('hands_database.json'))

# Check new hands
new_hands = [h for h in data if h.get('date') == '23.01.2026']
print(f"ğŸ“Š New hands (23.01.2026): {len(new_hands)}")

if new_hands:
    h = new_hands[0]
    print(f"\nSample hand (Board {h.get('board')}):")
    print(f"  - vulnerability: {h.get('vulnerability')}")
    print(f"  - dealer: {h.get('dealer')}")

# Check all new hands
missing_vul = sum(1 for h in new_hands if not h.get('vulnerability') or h.get('vulnerability') == 'None')
print(f"\nNew hands missing vulnerability: {missing_vul}/{len(new_hands)}")

# Check old hands
old_hands = [h for h in data if h.get('date') != '23.01.2026']
print(f"\nğŸ“Š Old hands: {len(old_hands)}")
if old_hands:
    h = old_hands[0]
    print(f"\nSample old hand (Board {h.get('board')}):")
    print(f"  - vulnerability: {h.get('vulnerability')}")
    print(f"  - dealer: {h.get('dealer')}")

missing_vul_old = sum(1 for h in old_hands if not h.get('vulnerability') or h.get('vulnerability') == 'None')
print(f"\nOld hands missing vulnerability: {missing_vul_old}/{len(old_hands)}")
